<section class="jumbotron jumbotron-fluid" style="background-color: rgb(255, 255, 255);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-10" style="margin-top: 10%; margin-bottom: 20%;">
                <div class="card">
                    <div class="card-body">
                        <form [formGroup]="alumnoForm">
                            <div class="form-group">
                                <h1 class="display-4 text-center">Editar Alumno</h1>
                                <div class="form-check mb-3">
                                    <label for="nombre">Nombre:</label>
                                    <input formControlName="nombre" id="nombre" name="nombre" class="form-control"
                                        [class.is-invalid]="alumnoForm.get('nombre')?.invalid && alumnoForm.get('nombre')?.touched"
                                        placeholder="Ej. Juan" required minlength="3" [(ngModel)]="alumnoObj.nombre">
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('nombre')?.hasError('required') && alumnoForm.get('nombre')?.touched">
                                        El nombre es obligatorio.
                                    </div>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('nombre')?.hasError('minlength') && alumnoForm.get('nombre')?.touched">
                                        El nombre debe tener al menos 3 caracteres.
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <label for="apellido_paterno">Apellido Paterno:</label>
                                    <input formControlName="apellido_paterno" id="apellido_paterno" name="apellido_paterno"
                                        class="form-control"
                                        [class.is-invalid]="alumnoForm.get('apellido_paterno')?.invalid && alumnoForm.get('apellido_paterno')?.touched"
                                        placeholder="Ej. Pérez" required minlength="3" [(ngModel)]="alumnoObj.apellido_paterno">
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('apellido_paterno')?.hasError('required') && alumnoForm.get('apellido_paterno')?.touched">
                                        El apellido paterno es obligatorio.
                                    </div>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('apellido_paterno')?.hasError('minlength') && alumnoForm.get('apellido_paterno')?.touched">
                                        El apellido paterno debe tener al menos 3 caracteres.
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <label for="apellido_materno">Apellido Materno:</label>
                                    <input formControlName="apellido_materno" id="apellido_materno" name="apellido_materno"
                                        class="form-control"
                                        [class.is-invalid]="alumnoForm.get('apellido_materno')?.invalid && alumnoForm.get('apellido_materno')?.touched"
                                        placeholder="Ej. López" required minlength="3" [(ngModel)]="alumnoObj.apellido_materno">
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('apellido_materno')?.hasError('required') && alumnoForm.get('apellido_materno')?.touched">
                                        El apellido materno es obligatorio.
                                    </div>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('apellido_materno')?.hasError('minlength') && alumnoForm.get('apellido_materno')?.touched">
                                        El apellido materno debe tener al menos 3 caracteres.
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <label for="matricula">Matrícula:</label>
                                    <input formControlName="matricula" id="matricula" name="matricula" class="form-control"
                                        [class.is-invalid]="alumnoForm.get('matricula')?.invalid && alumnoForm.get('matricula')?.touched"
                                        placeholder="Ej. 1234567890" required minlength="10" maxlength="10" [(ngModel)]="alumnoObj.matricula">
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('matricula')?.hasError('required') && alumnoForm.get('matricula')?.touched">
                                        La matrícula es obligatoria.
                                    </div>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('matricula')?.hasError('minlength') && alumnoForm.get('matricula')?.touched">
                                        La matrícula debe tener exactamente 10 caracteres.
                                    </div>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('matricula')?.hasError('maxlength') && alumnoForm.get('matricula')?.touched">
                                        La matrícula debe tener exactamente 10 caracteres.
                                    </div>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('matricula')?.hasError('pattern') && alumnoForm.get('matricula')?.touched">
                                        La matrícula debe contener solo números.
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <label for="carrera_id">Carrera:</label>
                                    <select formControlName="carrera_id" id="carrera_id" name="carrera_id" class="form-control"
                                        [class.is-invalid]="alumnoForm.get('carrera_id')?.invalid && alumnoForm.get('carrera_id')?.touched"
                                        required [(ngModel)]="alumnoObj.carrera_id" (change)="obtenerGrupos(alumnoForm.get('carrera_id')?.value)">
                                        <option value="" disabled selected>Selecciona una carrera</option>
                                        <option *ngFor="let carrera of carreras" [value]="carrera.id">{{ carrera.nombre }}</option>
                                    </select>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('carrera_id')?.hasError('required') && alumnoForm.get('carrera_id')?.touched" >
                                        La carrera es obligatoria.
                                    </div>
                                </div>
                                <div class="form-check mb-3">
                                    <label for="grupo_id">Grupo:</label>
                                    <select formControlName="grupo_id" id="grupo_id" name="grupo_id" class="form-control"
                                        [class.is-invalid]="alumnoForm.get('grupo_id')?.invalid && alumnoForm.get('grupo_id')?.touched"
                                        required [(ngModel)]="alumnoObj.grupo_id">
                                        <option value="" disabled selected>Selecciona un grupo</option>
                                        <option *ngFor="let grupo of grupos" [value]="grupo.id">{{ grupo.nombre }}</option>
                                    </select>
                                    <div class="invalid-feedback"
                                        *ngIf="alumnoForm.get('grupo_id')?.hasError('required') && alumnoForm.get('grupo_id')?.touched">
                                        El grupo es obligatorio.
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-4 offset-md-4">
                                    <div class="d-grid mx-auto">
                                        <button type="submit"
                                            class="btn btn-outline-success btn-block d-flex align-items-center justify-content-center"
                                            (click)="editarAlumno()">
                                            <mat-icon>save</mat-icon> Guardar Cambios
                                        </button>
                                        <hr>
                                        <a class="btn btn-outline-danger btn-block d-flex align-items-center justify-content-center"
                                            [routerLink]="['/layout/alumnos']">
                                            <mat-icon>cancel</mat-icon> Cancelar
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
